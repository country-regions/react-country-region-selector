"use strict";(self.webpackChunkrcrs_docs=self.webpackChunkrcrs_docs||[]).push([[888],{1008:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"advanced/index","title":"Advanced","description":"Reducing bundle sizes","source":"@site/docs/advanced/index.mdx","sourceDirName":"advanced","slug":"/advanced/","permalink":"/react-country-region-selector/advanced/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"React Select","permalink":"/react-country-region-selector/demos/integrations/ReactSelect"}}');var o=t(5723),r=t(6142);const i={sidebar_position:4},a="Advanced",d={},c=[{value:"Reducing bundle sizes",id:"reducing-bundle-sizes",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"advanced",children:"Advanced"})}),"\n",(0,o.jsx)(n.h3,{id:"reducing-bundle-sizes",children:"Reducing bundle sizes"}),"\n",(0,o.jsxs)(n.p,{children:["This package clocks at around ",(0,o.jsx)(n.code,{children:"72KB"}),", minified. This relatively large size is because of the ",(0,o.jsx)(n.em,{children:"data set"})," - cramming in all the country and region names from\n",(0,o.jsx)(n.a,{href:"https://github.com/country-regions/country-region-data",children:"country-region-data"})," takes up space. We've converted the raw data in the ",(0,o.jsx)(n.code,{children:"react-country-region-selector"}),"\nbundle to reduce the size as much as possible."]}),"\n",(0,o.jsxs)(n.p,{children:["If bundle sizes are a concern, I'd first suggest ",(0,o.jsx)(n.strong,{children:"lazy-loading the component"})," so it only downloads the code when needed instead of bloating your main\nbundle. See whatever bundler doc you use for further information on that. This is probably the simplest approach and will require the least work down the road."]}),"\n",(0,o.jsxs)(n.p,{children:["Alternatively, if you don't need all the data and want to show a subset of all countries (like on this\n",(0,o.jsx)(n.a,{href:"../demos/features/CountryWhitelist",children:"Country Whitelist demo"}),"), you can do a manual build of this script and create a smaller."]}),"\n",(0,o.jsxs)(n.p,{children:["Here's how it works. First, get the repo up and running locally from the notes in the ",(0,o.jsx)(n.a,{href:"https://github.com/country-regions/react-country-region-selector/blob/master/DEVELOPER.md",children:"Developer Doc"}),".\nThen locally, do the following:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["On the command line, navigate to ",(0,o.jsx)(n.code,{children:"packages/react-country-region-selector"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Run the following command, passing in the list of countries you want to include:\n",(0,o.jsx)(n.code,{children:"npm run minify-data --config-countries=CA,US,GB"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["To find the list of country shortcodes, see the raw data in ",(0,o.jsx)(n.a,{href:"https://github.com/country-regions/country-region-data/blob/master/data.json",children:"country-region-data"})," (",(0,o.jsx)(n.code,{children:"countryShortCode"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Run ",(0,o.jsx)(n.code,{children:"npm run build"})]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["This will have generated a fresh ",(0,o.jsx)(n.code,{children:"/dist"})," folder in that package. You can then copy + paste those contents into your own repo for usage."]}),"\n",(0,o.jsxs)(n.p,{children:["Ideal? No. You'd need to do this manual process every time the package is updated, or find a way to automate it. But the command above that limits the data\nto 3 countries reduces the total bundle size to ",(0,o.jsx)(n.code,{children:"8KB"}),". Quite the savings!"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);